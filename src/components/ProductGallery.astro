---
import { onMount } from 'solid-js';

const { images = [] } = Astro.props;

onMount(() => {
  import('swiper').then(({ default: Swiper, Pagination }) => {
    new Swiper('.swiper-container', {
      modules: [Pagination],
      loop: true,
      pagination: { el: '.swiper-pagination', clickable: true },
      slidesPerView: 1,
      spaceBetween: 10,
    });
  });
});
---

<div class="swiper-container rounded-xl shadow-md mb-4">
  <div class="swiper-wrapper">
    {images.map((src, i) => (
      <div class="swiper-slide" key={i}>
        <img src={src} alt={`Imagen ${i + 1}`} class="w-full h-auto rounded-lg" loading="lazy" />
      </div>
    ))}
  </div>
  <div class="swiper-pagination"></div>
</div>

<style>
  .swiper-container {
    width: 100%;
    height: 300px;
  }
  .swiper-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 1rem;
  }
</style>
